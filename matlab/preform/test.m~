%% generate a random profile, then revolve it and display
 
% random points
pts = round(5*rand(10,2)+5);
pts = unique(pts, 'rows');
 
% turn it into a bounding profile
shp = alphaShape(pts(:,1), pts(:,2), 3.5);
[bf, bp] = boundaryFacets(shp);
 

num_revolves = 8;


% sweep the profile
[tri, xyz] = bfRevolve(bf, bp, num_revolves);
 

% display the surface
figure


for i = 1:(length(bf)*4)
    bp = i;
    
    for j = 1:length(num_revolves/2);
        
    
    tri_mod((i-1)*num_revolves+1:1:(i-1)*bf+4,:) = tri((i-1)*num_revolves+1:1:(i-1)*bf+4,:);
end

trisurf(tri_mod(1:4,:), xyz(:,1),xyz(:,2),xyz(:,3));

axis([-10 10 -10 10 0 10])